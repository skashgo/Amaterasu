<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="/jsp/include/template.xhtml">
	<ui:define name="breadcrumb">
		<h:panelGroup id="pnlBread">
			<h:outputLabel
				value="#{msgsChecklist['BREAD']}"/>
		</h:panelGroup>
	</ui:define>
	
	<ui:define name="conteudo">
		<div id="conteudo">
		
		<style>
			.dr-stglpnl-h {
				background: none !important;
				border-style: none !important;
			}
			
			.rich-stglpanel-header {
				background: none !important;
			}
			
			.dr-stglpnl {
				background: none !important;
			}
			
			.rich-stglpanel {
				background: none !important;
			}
			
			.dr-mpnl-pnl {
				overflow: auto !important
			}
		</style>
		
		<script type="text/javascript">

			function jsMarcouPrejudicado(element) {
				if (element.checked)
				{
					//Está selecionado, portanto os 3 radiobuttons devem estar
					//desabilitados e o radiobutton Obrigatório deve vir marcado.

					document.getElementById('formDragDrop:selectSituacao:0').checked = true;

					//Desabilitando
					document.getElementById('formDragDrop:selectSituacao:0').disabled = true;
					document.getElementById('formDragDrop:selectSituacao:1').disabled = true;
					document.getElementById('formDragDrop:selectSituacao:2').disabled = true;
				} else {
					//Habilitando
					document.getElementById('formDragDrop:selectSituacao:0').disabled = false;
					document.getElementById('formDragDrop:selectSituacao:1').disabled = false;
					document.getElementById('formDragDrop:selectSituacao:2').disabled = false;
				}
			}
		
		</script>
		
		
			<h:form id="formChecklistAltera">			
				<rich:panel id="pnlConteudo">
					<rich:panel
						id="pnlTituloAltera"
						style="vertical-align: bottom; padding:6px 0px; text-align:left;">
						<h:graphicImage
							value="/images/icon_dados.jpg"
							style="vertical-align: bottom;" />
						<h:outputText
							value="#{msgsChecklist['TITLE.panelAlterar']}"
							styleClass="tituloPagina"
							rendered="#{checklistAlteraMB.showTitleAlterar}" />
						<h:outputText
							value="#{msgsChecklist['TITLE.panelVisualizar']}"
							styleClass="tituloPagina"
							rendered="#{checklistAlteraMB.showTitleVisualizar}" />
					</rich:panel>
					<!-- FIM pnlTituloAltera -->
					<rich:panel
						id="pnlAltera"
						styleClass="panel-externo">
						<rich:jQuery id="mskDateAlt" selector=".maskDate" timing="onload" query="mask('99/99/9999')" />
						<table
 							cellpadding="0" 
 							cellspacing="0"							 
							id="tabelaAltera"
							class="estiloTabelaPadrao">
							<tr>
								<td width="73px">
									<h:outputLabel
										id="lblAltOperacao"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.operacao']} " />
								</td>
								<td width="73px">
									<h:outputText
										id="outputOperacao"
										value="#{checklistAlteraMB.nuOperacaoFormatada}"
										styleClass="rotuloLeitura"/>
								</td>
								<td width="73px">
									<h:outputLabel
										id="lblAltModalidade"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.modalidade']} " />
								</td>
								<td width="73px">
									<h:outputText
										id="outputModalidade"
										value="#{checklistAlteraMB.nuModalidadeFormatada}"
										styleClass="rotuloLeitura"/>
								</td>
								<td width="60px">
									<h:outputLabel
										id="lblAltSituacao"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.situacao']} " />
								</td>
								<td width="160px">
									<h:outputText
										id="outputSituacao"
										value="#{checklistAlteraMB.checklist.icSituacao}"
										styleClass="rotuloLeitura"/>
								</td>
								<td width="73px">
									<div style="*width:120px">
										<h:outputLabel
											id="lblAltDataInicio"
											styleClass="rotulosPro"
											value="#{msgsChecklist['LABEL.datainicio']} " />
									</div>
								</td>
								<td width="110px">
									<h:outputText
										id="outputDataInicio"
										rendered="#{checklistAlteraMB.showOutputDataInicio}"
										value="#{checklistAlteraMB.checklist.dataInicio}"
										styleClass="rotuloLeitura" >
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
									<rich:calendar
										id="calendDataIni"
										rendered="#{checklistAlteraMB.showInputDataInicio}"
										enableManualInput="true"
										oninputblur="validaData(this)"											
										inputClass="forms_input maskDate"
										tabindex="5"
										firstWeekDay="0"
										inputSize="10"
										datePattern="dd/MM/yyyy"
										value="#{checklistAlteraMB.checklist.dataInicio}">
									</rich:calendar>
								</td>
							</tr>	
							<tr>
								<td>
									<h:outputLabel
										id="lblAltProduto"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.produto']} " />
								</td>	
								<td colspan="5">
									<h:outputText
										id="outputProduto"
										value="#{checklistAlteraMB.checklist.servicoVerificacaoProduto.produto.noProduto}"
										styleClass="rotuloLeitura"/>
								</td>	
								<td>
									<h:outputLabel
										id="lblAltDataFim"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.datafim']} " />
								</td>
								<td>
									<h:outputText
										id="outputDataFim"
										value="#{checklistAlteraMB.checklist.dataFim}"
										rendered="#{checklistAlteraMB.showOutputDataFim}"
										styleClass="rotuloLeitura">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
									<rich:calendar
										id="calendDataFim"
										rendered="#{checklistAlteraMB.showInputDataFim}"
										enableManualInput="true"
										oninputblur="validaData(this)"											
										inputClass="forms_input maskDate"
										tabindex="5"
										inputSize="10"
										firstWeekDay="0"
										datePattern="dd/MM/yyyy"
										value="#{checklistAlteraMB.checklist.dataFim}">
									</rich:calendar>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<h:outputLabel
										id="lblAltServicoVerif"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.servicoverificacao']} " />
								</td>	
								<td colspan="6">
									<h:outputText
										id="outputServicoVerificacao"
										value="#{checklistAlteraMB.checklist.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}"
										styleClass="rotuloLeitura"/>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<h:outputLabel value="#{msgsChecklist['LABEL.tipoCanalComercializacao']}:" 
										styleClass="rotulosPro"/>
								</td>
								<td colspan="2">
									<h:selectOneMenu id="cbCanalComercializacao" value="#{checklistAlteraMB.nuCanalComercializacao}" 
										rendered="#{checklistAlteraMB.showComboTipoCanal}"
										styleClass="forms_input" style="width: 150px">
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										<f:selectItems value="#{checklistMB.listTipoCanalComercializacao}" />
									</h:selectOneMenu>
									<h:outputText value="#{checklistAlteraMB.checklist.canalComercializacao.noCanalCmrco}"
										rendered="#{checklistAlteraMB.showOutputTipoCanal}" />
								</td>
								<td colspan="2" style="text-align:right">
									<rich:panel style="background-color: #f2f4f9" rendered="#{!checklistAlteraMB.showAltera}">
										<h:commandButton
											id="botaoAUTORIZADO"
											tabindex="6"
											rendered="#{checklistAlteraMB.showAutorizado}"
											action="#{checklistAlteraMB.doAutorizado}"
											value="#{msgsChecklist['ACTION.autorizar']}"
											styleClass="rich-button"
											style="margin-right:6px; *margin-right:10px ">
										</h:commandButton>
										<rich:spacer width="10px"/>								
										<h:commandButton
											id="botaoREVOGADO"
											tabindex="6"
											rendered="#{checklistAlteraMB.showRevogado}"
											action="#{checklistAlteraMB.doRevogado}"
											value="#{msgsChecklist['ACTION.revogar']}"
											styleClass="rich-button"
											style="margin-right:6px; *margin-right:10px ">
										</h:commandButton>
										<rich:spacer width="10px"/>								
										<h:commandButton
											id="botaoPUBLICADO"
											tabindex="6"
											rendered="#{checklistAlteraMB.showPublicado}"
											action="#{checklistAlteraMB.doPublicado}"
											value="#{msgsChecklist['ACTION.publicar']}"
											styleClass="rich-button"
											style="margin-right:6px; *margin-right:10px ">
										</h:commandButton>
									</rich:panel>
								</td>
								<td colspan="2" style="text-align:right">
									<rich:panel style="background-color: #f2f4f9">
										<h:commandButton
											id="botaoSalva"
											tabindex="6"
											rendered="#{checklistAlteraMB.showButtonSalvar}"
											action="#{checklistAlteraMB.doSalvarClick}"
											value="#{msgsChecklist['ACTION.salvar']}"
											styleClass="rich-button"
											onclick="if(!confirm('#{checklistAlteraMB.mensagemPublicado}#{msgsCef['MA003']}')) {return false;}"
											style="margin-right:6px; *margin-right:10px " />
										<h:commandButton
											id="btnCancelarAltera"
											value="#{checklistAlteraMB.labelCancelarVoltar}"
											styleClass="rich-button-cinza rich-button"
											action="#{checklistAlteraMB.doCancelarClick}"
											reRender="CEFMessagePanel,pnlAltera"/>								
									</rich:panel>
								</td>	
							</tr>	
						</table>
					</rich:panel> <!-- do pnlAltera -->


					<rich:panel
						id="pnlTituloVinculacoes"
						style="vertical-align: bottom; padding:6px 0px; text-align:left;">
						<h:graphicImage
							value="/images/icon_estagiarios_.gif"
							style="vertical-align: bottom;" />
						<h:outputText
							value="#{msgsChecklist['TITLE.panelVinculacoes']}"
							styleClass="tituloPagina" />
					</rich:panel>
					<!-- FIM pnlTituloBloco -->
					<rich:panel
						id="pnlBloco"
						rendered="#{checklistAlteraMB.showPanelAddBloco}"
						styleClass="panel-externo">
						<table
 							cellpadding="0" 
 							cellspacing="0"							 
							id="tabelaBloco"
							class="estiloTabelaPadrao">
							<tr>
								<td width="50px">
									<h:outputLabel
										id="lblPesqServicoVerif"
										styleClass="rotulosPro"
										value="#{msgsChecklist['LABEL.bloco']} " />
								</td>	
								<td width="550px">
									<h:selectOneMenu
										value="#{checklistAlteraMB.checklistVO.codBloco}"
										id="selectBloco"
										tabindex="1"
										styleClass="forms_input"
										readonly="false"
										style="width: 540px; ">
										<f:selectItem
											itemLabel="Selecione..."
											itemValue="0" />
										<f:selectItems
											id="selectItems_Bloco"
											value="#{checklistAlteraMB.listItemBlocos}" />
									</h:selectOneMenu>								
								</td>	
							
								<td colspan="2" style="text-align:right">
									<a4j:commandButton
										id="botaoInserirBloco"
										tabindex="6"
										onclick="if(confirm('#{msgsCef['MA003']}')) { var bloco = jQuery('#formChecklistAltera\\\\:selectBloco option:selected').val(); jsReplicate('insert', bloco); return false;} else {return false;}"
										value="#{msgsChecklist['ACTION.inserir']}"										
										styleClass="rich-button"
										style="margin-right:6px; *margin-right:10px " />
									<h:commandButton
										id="botaoOrdenarBloco"
										tabindex="7"
										actionListener="#{checklistAlteraMB.doOrdenarBloco}"
										value="#{msgsChecklist['ACTION.ordenar']}"
										styleClass="rich-button"
										style="margin-right:6px; *margin-right:10px "/>
								</td>
							</tr>	
						</table>
					</rich:panel> <!-- do pnlBloco -->
					<rich:spacer
						height="10px"/>

					<!-- inserir os itens do checklist -->
					
					<rich:panel
						id="pnlPanelMenu"
						style="width:100%"
						binding="#{checklistAlteraMB.itensPanel}">
						
						<!-- aqui monta-se no java a grade inteira -->
						
                	</rich:panel> 
				</rich:panel> <!-- do pnlConteudo -->
			</h:form>
			<h:form id="formDragDrop">
				<rich:modalPanel
					id="dragAndDropMP"
					resizeable="false"
					autosized="true"
					width="700"
					onshow="jsMarcouPrejudicado(document.getElementById('formDragDrop:checkboxPrejudicado'));"
					moveable="true"
					headerClass="teste"
					rendered="#{checklistAlteraMB.showModal}"				
					showWhenRendered="#{checklistAlteraMB.showModal}">
					<f:facet name="header">  
			            <h:panelGroup>  
							<h:outputText value="#{checklistAlteraMB.rotuloDragDrop}" />
			            </h:panelGroup>  
			        </f:facet>  

					<!-- Drag and Drop abaixo  -->				

					<h:panelGrid
						id="pnlListas" 
						width="760px"
						columnClasses="tamanhoColDrag, tamanhoColDrag"
						columns="2"
						rendered="#{checklistAlteraMB.showModalDragAndDrop}">
						<rich:panel style="width: 360px"> 
							<f:facet name="header">
								<h:outputText value="Vinculados" />
							</f:facet>
							<rich:panel styleClass="panelScroll" style="padding-left:13px; width:345px"> 
								<ol id="vinculados" class="dataGrid-dnd" style="width:auto">
									<a4j:repeat 
										value="#{checklistAlteraMB.vinculadosList}" 
										var="dndutil">
										<li class="sortable-thiago ui-state-default" id="#{dndutil.value}">
											<h:outputText value="#{dndutil.label}" />
										</li>
									</a4j:repeat>
								</ol>
							</rich:panel>
						</rich:panel>
						<rich:panel style="width: 360px"> 
							<f:facet name="header">
								<h:outputText value="A Vincular" />
							</f:facet>
							<rich:panel styleClass="panelScroll" style="padding-left:13px; width:345px"> 
								<ol id="vincular" class="dataGrid-dnd" style="width:auto">
									<a4j:repeat 
										value="#{checklistAlteraMB.naoVinculadosList}" 
										var="dndutil">
										<li class="sortable-thiago ui-state-default" id="#{dndutil.value}">
											<h:outputText value="#{dndutil.label}" />
										</li>
									</a4j:repeat>
								</ol>
							</rich:panel>
						</rich:panel>
						<rich:jQuery 
							selector="#vinculados, #vincular"
					     	query='sortable({ 
								connectWith: ".dataGrid-dnd"
							}).disableSelection()' >
						</rich:jQuery>
						<rich:spacer height="10px" />
					</h:panelGrid> 
					<rich:panel 
						id="pnlBotoesDrag" 
						style="text-align:center"
						rendered="#{checklistAlteraMB.showModalDragAndDrop}">
						<a4j:commandButton
							id="btnDragDropHide"
							rendered="#{checklistAlteraMB.showSalvarDragDrop}"
							value="#{msgsChecklist['ACTION.salvar']}"
							styleClass="rich-button"
							onclick="if(confirm('#{msgsCef['MA003']}')) { var vinculados = jQuery('#vinculados').sortable('toArray').toString(); jsReplicate('dragdrop', vinculados); return false;} else {return false;}" />
						<rich:spacer width="5px" />
						<a4j:commandButton
							id="btnDragDropCancelar"
							value="#{msgsChecklist['ACTION.cancelar']}"
							styleClass="rich-button-cinza rich-button"
							actionListener="#{checklistAlteraMB.doFechaModal}"
							onclick="#{rich:component('dragAndDropMP')}.hide()" />
					</rich:panel>

					<!-- Ordenar Blocos abaixo  -->				

					<h:panelGrid
						id="pnlListasOrdenacao" 
						width="740px"
						columnClasses="tamanhoColDrag"
						columns="1"
						rendered="#{checklistAlteraMB.showModalOrdena}">
						<rich:panel style="width: auto; *width: 720px"> 
							<f:facet name="header">
								<h:outputText value="Vinculados" />
							</f:facet>
							<rich:panel styleClass="panelScroll" style="padding-left:13px; width:740px; *width: 702px;"> 
								<ol id="vinculadosOrg" class="dataGrid-dnd" style="width:auto">
									<a4j:repeat 
										value="#{checklistAlteraMB.vinculadosList}" 
										var="dndutil">
										<li class="sortable-thiago ui-state-default" id="#{dndutil.value}">
											<h:outputText value="#{dndutil.label}" />
										</li>
									</a4j:repeat>
								</ol>
							</rich:panel>
						</rich:panel>
						<rich:jQuery 
							selector="#vinculadosOrg,"
					     	query='sortable({ 
								connectWith: ".dataGrid-dnd"
							}).disableSelection()' >
						</rich:jQuery>

						<rich:spacer height="10px" />
						
						<rich:panel style="text-align:center; width:100%; *width: 740px">
							<a4j:commandButton
								id="btnDragDropHideOrder"
								rendered="#{checklistAlteraMB.showSalvarOrdemBloco}"
								value="#{msgsChecklist['ACTION.salvar']}"
								styleClass="rich-button"
								onclick="if(confirm('#{msgsCef['MA003']}')) { var vinculados = jQuery('#vinculadosOrg').sortable('toArray').toString(); jsReplicate('dragdrop', vinculados); return false;} else {return false;}" />

							<rich:spacer width="5px" />

							<a4j:commandButton
								id="btnOrderCancelar"
								value="#{msgsChecklist['ACTION.cancelar']}"
								styleClass="rich-button-cinza rich-button"
								actionListener="#{checklistAlteraMB.doFechaModal}"
								onclick="#{rich:component('dragAndDropMP')}.hide()" />
						</rich:panel>
					</h:panelGrid> 

					<!-- Ajuda abaixo  -->				
					
					<h:panelGrid
						id="pnlListasAjuda" 
						width="760px"
						columnClasses="tamanhoColDrag, tamanhoColDrag"
						columns="1"
						rendered="#{checklistAlteraMB.showModalAjuda}">
						<h:inputTextarea 
							id="textNomeAjuda"
							value="#{checklistAlteraMB.checklistVO.nomeAjuda}" 
							style="height:60px; width:730px" />
						<rich:spacer width="1px" height="10px"/>
						
						<h:panelGrid
							columns="2">
							<h:selectOneRadio 
								id="selectSituacao"
								value="#{checklistAlteraMB.checklistVO.situacaoAjuda}"
								tabindex="2"
								styleClass="estiloCheckBox"
								rendered="#{checklistAlteraMB.ativaRadioBoxAjuda}"
								style="width: 390px;">
								<f:selectItems
									id="selectItems_Situacao"
									value="#{checklistAlteraMB.listSituacao}" />
							</h:selectOneRadio>
							<h:panelGrid
								columns="2"
								rendered="#{checklistAlteraMB.ativaRadioBoxAjuda}"
								id="pnlPrejudicado">
								<h:selectBooleanCheckbox
									id="checkboxPrejudicado"
									onchange="jsMarcouPrejudicado(this);"
									value="#{checklistAlteraMB.checklistVO.prejudicado}" >
								</h:selectBooleanCheckbox>
																
								<h:outputLabel
									value="PREJUDICADA"
									styleClass="estiloCheckBox"
									style="font-weight: normal;"
									for="checkboxPrejudicado"
									id="lblPrejudicado" />
							</h:panelGrid>
						</h:panelGrid>

						<h:panelGrid
							id="pnlListasAjuda2" 
							columns="2"
							width="auto"
							rendered="#{checklistAlteraMB.ativaCheckBoxAjuda}">
							<h:selectBooleanCheckbox 
								id="checkAjudaSituacao"
								value="#{checklistAlteraMB.checklistVO.checkNaoAplica}"/>
							<h:outputLabel 
								id="lblAjudaSituacao" 
								for="checkAjudaSituacao" 
								value="NÃO SE APLICA"/>
						</h:panelGrid>
						<rich:spacer height="10px" />

						<rich:panel style="text-align:center; width:100%; *width: 740px">

							<h:commandButton
								id="botaoUpdateAjuda"
								onclick="if(confirm('#{msgsCef['MA003']}')) { var action = 'update'; var textarea = jQuery('textarea[name=formDragDrop:textNomeAjuda]').val();	var radiobut = jQuery('input[name=formDragDrop:selectSituacao]:checked').val(); var checkbox = jQuery('input[name=formDragDrop:checkAjudaSituacao]').attr('checked');var checkboxPrejudicado = jQuery('input[name=formDragDrop:checkboxPrejudicado]').attr('checked'); jsReplicate2(action, textarea, radiobut, checkbox, checkboxPrejudicado); return false;} else {return false;}"
								value="#{msgsChecklist['ACTION.salvar']}"										
								rendered="#{checklistAlteraMB.showButtonSalvarAjuda}" 
								type="button"
								styleClass="rich-button"
								style="margin-right:6px; *margin-right:10px " />

							<rich:spacer width="1px" rendered="#{checklistAlteraMB.showButtonSalvarAjuda}" />
							<rich:spacer width="5px" />

							<a4j:commandButton
								id="btnAjudaCancelar"
								value="#{msgsChecklist['ACTION.cancelar']}"
								styleClass="rich-button-cinza rich-button"
								actionListener="#{checklistAlteraMB.doFechaModal}"
								onclick="#{rich:component('dragAndDropMP')}.hide()" />
						</rich:panel>
					</h:panelGrid>
				</rich:modalPanel>
					
					<rich:modalPanel
						id="listChecklistsMP"
						resizeable="false"
						moveable="true"
						width="850"
						height="450"
						headerClass="teste">
	
					   <f:facet name="header">  
			             <h:panelGroup>  
						   <h:outputText value="#{msgsChecklist['TITLE.importacao']}" />
			             </h:panelGroup>  
			      	    </f:facet>  
						<rich:dataTable
								id="tableImportChecklist"
								value="#{checklistAlteraMB.listChecklists}"
								var="checklist"
								rows="10"
								width="100%"
								cellspacing="0"
								cellpadding="0"
								border="1"
								rowClasses="tabela-row-1, tabela-row-2"
								onRowMouseOver="this.style.backgroundColor = '#A2B6E5'"
								onRowMouseOut="this.style.backgroundColor = ''">
								<rich:column
									id="colSelectChecklist"
									style="text-align:center;"
									width="10%">
									<f:facet name="header">
										<h:outputText
											id="lblSelectChecklist"
											styleClass="rotulosPro"
											value="Selecionado" />
									</f:facet>
									<h:selectBooleanCheckbox value="#{checklist.selecionado}" >
										<a4j:support event="onchange" ajaxSingle="true" actionListener="#{checklistAlteraMB.changeCheckbox}" />
									</h:selectBooleanCheckbox>
								</rich:column>
								<rich:column
									id="colCodigoImportProduto"
									style="text-align:center;"
									width="10%"
									sortBy="#{checklist.servicoVerificacaoProduto.produto.coProduto}">
									<f:facet name="header">
										<h:outputText
											id="lblCodigoImportProduto"
											styleClass="rotulosPro"
											value="#{msgsChecklist['COLUMN.codigo']}" />
									</f:facet>
									<h:outputText
										id="lblImportNuProduto"
										value="#{checklist.servicoVerificacaoProduto.produto.codigoFormatado}" />
								</rich:column>
								<rich:column
									id="colImportNomeProduto"
									style="text-align:left;"
									sortBy="#{checklist.servicoVerificacaoProduto.produto.noProduto}">
									<f:facet name="header">
										<h:outputText
											id="lblImportNomeProduto"
											styleClass="rotulosPro"
											value="#{msgsChecklist['COLUMN.nomeproduto']}" />
									</f:facet>
									<h:outputText
										id="lblImportNoProduto"
										value="#{checklist.servicoVerificacaoProduto.produto.noProduto}" />
								</rich:column>
								<rich:column
									id="colImportServicoVerificacao"
									style="text-align:left;"
									sortBy="#{checklist.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}">
									<f:facet name="header">
										<h:outputText
											id="lblImportServicoVerif"
											styleClass="rotulosPro"
											value="#{msgsChecklist['COLUMN.servicoverificacao']}" />
									</f:facet>
									<h:outputText
										id="txtImportServicoVerif"
										value="#{checklist.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}" />
								</rich:column>
								<rich:column
									id="colImportSituacao"
									style="text-align:left;"
									sortBy="#{checklist.icSituacao}">
									<f:facet name="header">
										<h:outputText
											id="lblImportSituacao"
											styleClass="rotulosPro"
											value="#{msgsChecklist['COLUMN.situacao']}" />
									</f:facet>
									<h:outputText
										id="txtImportSituacao"
										value="#{checklist.icSituacao}" />
								</rich:column>
								<f:facet name="footer">
									<rich:datascroller
										fastControls="false"
										inactiveStyleClass="classe-datascroller classe-datascroller-unselected"
										selectedStyleClass="classe-datascroller classe-datascroller-selected"
										id="dataFooterChecklist"
										renderIfSinglePage="false">
										<f:facet name="first">
											<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
										</f:facet>
										<f:facet name="first_disabled">
											<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
										</f:facet>
										<f:facet name="last">
											<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
										</f:facet>
										<f:facet name="last_disabled">
											<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
										</f:facet>
										<f:facet name="previous">
											<h:graphicImage value="/images/tabela/seta_anterior.gif" />
										</f:facet>
										<f:facet name="previous_disabled">
											<h:graphicImage value="/images/tabela/seta_anterior.gif" />
										</f:facet>
										<f:facet name="next">
											<h:graphicImage value="/images/tabela/seta_proximo.gif" />
										</f:facet>
										<f:facet name="next_disabled">
											<h:graphicImage value="/images/tabela/seta_proximo.gif" />
										</f:facet>
									</rich:datascroller>
								</f:facet>
							</rich:dataTable>				
							<br />
							<rich:panel style="text-align:center">
								<h:commandButton id="btnSalvarMP"
									value="#{msgsChecklist['ACTION.salvar']}"
									type="button"
									onclick="jsSave();"
									styleClass="rich-button" />
							
							</rich:panel>
						</rich:modalPanel>
					
					<!-- FUNÇÕES JAVASCRIPT QUE TRATAM OS EVENTOS DE FECHAR E ABRIR OS MODAIS -->
					
					<a4j:jsFunction 
						name="jsReplicate"
						action="#{checklistAlteraMB.checklistUpdate}"
						reRender=":formChecklistAltera, :formDragDrop, CEFMessagePanel, tableImportChecklist" 
						data="#{checklistAlteraMB.validInsertBloco}"
						oncomplete="if(!data){ return false; } if(confirm('Deseja realizar a replicação das alterações?')) { jsOpenBlocoMP(); return false;} else {jsSave(); return false;}" >
						<a4j:actionparam name="action" />
						<a4j:actionparam name="value" />
						<a4j:actionparam name="type" />						
					</a4j:jsFunction>

					<a4j:jsFunction 
						name="jsReplicate2"
						action="#{checklistAlteraMB.checklistUpdate}"
						reRender=":formChecklistAltera, :formDragDrop, CEFMessagePanel, tableImportChecklist" 
						data="#{checklistAlteraMB.validInsertBloco}"
						oncomplete="if(!data){ return false; } if(confirm('Deseja realizar a replicação das alterações?')) { jsOpenBlocoMP(); return false;} else {jsSave(); return false;}" >
						<a4j:actionparam name="action"/>
						<a4j:actionparam name="textarea" assignTo="#{checklistAlteraMB.checklistVO.nomeAjuda}" />
						<a4j:actionparam name="radiobut" assignTo="#{checklistAlteraMB.checklistVO.situacaoAjuda}" />
						<a4j:actionparam name="checkbox" assignTo="#{checklistAlteraMB.checklistVO.checkNaoAplica}" />
						<a4j:actionparam name="checkboxPrejudicado" assignTo="#{checklistAlteraMB.checklistVO.prejudicado}" />
					</a4j:jsFunction>
					
					<a4j:jsFunction 
						name="jsOpenBlocoMP" 
						onbeforedomupdate="if(document.getElementById('formDragDrop:dragAndDropMP') != null) {#{rich:component('dragAndDropMP')}.hide(); return false; }"
						oncomplete="#{rich:component('listChecklistsMP')}.show(); return false;" />
					
					<a4j:jsFunction 
						name="closeModais" 
						onbeforedomupdate="#{rich:component('dragAndDropMP')}.hide(); return false;"
						oncomplete="#{rich:component('listChecklistsMP')}.hide(); return false;" />
		
					<a4j:jsFunction 
						name="jsSave" 
						actionListener="#{checklistAlteraMB.saveChanges}" 
						reRender=":formChecklistAltera, :formDragDrop, CEFMessagePanel" 
						oncomplete="closeModais(); return false;"/>

			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>