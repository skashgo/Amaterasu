<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<ui:composition template="/jsp/include/template.xhtml">
	<ui:define name="breadcrumb">
		<h:panelGroup id="pnlBread">
			<h:outputLabel value="#{msgsVerificacaoPreventiva['BREAD-RELATORIO']}" />
		</h:panelGroup>
	</ui:define>
	<ui:define name="conteudo">
		<script type="text/javascript">

			jQuery.fn.enterSubmit = function(){
				jQuery(this).live("keypress", function(e) {
			        /* ENTER PRESSED*/
			        if (e.keyCode == 13) {
				        this.value = this.value.replace(/_/g, "");
			        	jQuery(".btn-consultar").click();
			        	return false;
			        }
			        return true;
			    });
			};
	
			function checkForConfirmation(existe) {
				if(existe)
				{
					if(confirm('#{msgsCef['MA010']}'))
					{
						jsReplaceChecklist();
					} else {
						return false;
					}
				}
				else 
				{
					jsSaveChecklist();
				}
			};	

		</script>

		
		<h:form id="formPrincipal">
		<a4j:keepAlive beanName="relatorioVerificacaoMB" />					
			<rich:panel id="panelPrincipal">
				<!-- FILTROS PARA PESQUISA -->

					<rich:panel
						id="pnlFiltroVerificacaoPreventivaFiltro"
						style="margin-top: 10px;"
						styleClass="panel-externo">
						<rich:jQuery id="mskDateRel" selector=".maskDate" timing="onload" query="mask('99/99/9999')" />
						<table cellpadding="0" cellspacing="0" id="tabelaConsulta"
							border="1" class="estiloTabelaPadrao">
							<tr class="distanciaLinha">
								<td width="12%">
									<h:outputLabel id="lblPesqUnidade"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.unidade']}: " />
								</td>
								<td width="13%">
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroUnidade}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoUnidade" maxlength="30" tabindex="1" size="8">
										<rich:jQuery selector="#lblPesqCampoUnidade"
											query="enterSubmit()" timing="onload" />
										<a4j:support event="onblur" reRender="selectUnidade" />
									</h:inputText>
								</td>
								<td colspan="3">
									<h:selectOneMenu
										value="#{relatorioVerificacaoMB.codUnidade}" id="selectUnidade"
										tabindex="2" styleClass="forms_input pressEnter"
										style=" width : 385px;">
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										<f:selectItems id="selectItemsUnidade"
											value="#{relatorioVerificacaoMB.listUnidades}" />
										<rich:jQuery selector="#selectUnidade" query="enterSubmit()"
											timing="onload" />
									</h:selectOneMenu></td>
								<td width="17%">
									<h:outputLabel id="lblPesqContrato"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.contrato']}: " />
								</td>
								<td>
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroContrato}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoContrato" maxlength="26" tabindex="3" size="8"
										onfocus="type_masktype(false)">
										 <rich:jQuery
											id="mascaraContrato"
											selector="#lblPesqCampoContrato"
											query="mask('9999.999.9999999-9')"
											timing="onload" />
										<rich:jQuery 
											selector="#lblPesqCampoContrato" 
											timing="onload" 
											query="focus()" /> 
												
									</h:inputText>
								</td>
							</tr>
							<tr class="distanciaLinha">
								<td>
									<h:outputLabel id="lblPesqProduto"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.produto']}: " />
								</td>
								<td width="13%">
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroProduto}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoNome" maxlength="30" tabindex="4" size="8">
										<rich:jQuery selector="#lblPesqCampoNome"
											query="enterSubmit()" timing="onload" />
										<a4j:support event="onblur" reRender=" selectProduto" />
									</h:inputText>
								</td>
								<td colspan="3">
									<h:selectOneMenu
										value="#{relatorioVerificacaoMB.codProduto}" id="selectProduto"
										tabindex="5" styleClass="forms_input pressEnter"
										style=" width : 385px;">
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										<f:selectItems id="selectItemsProduto"
											value="#{relatorioVerificacaoMB.listProdutos}" />
										<rich:jQuery
											selector="#selectProduto"
											query="enterSubmit()"
											timing="onload" />
										<a4j:support event="onchange" reRender="selectServico"/>
									</h:selectOneMenu>
								</td>
								<td colspan="2"></td>
							</tr>
							<tr class="distanciaLinha">
								<td>
									<h:outputLabel id="lblPesqDocumento"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.documentos']}: " />
								</td>
								<td>
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroDocumentos}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoDocumentos" maxlength="15" tabindex="6" size="8">
									</h:inputText>
								</td>
								<td width="10%" colspan="3">
									<h:outputLabel id="lblPesqAvalSiric"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.avaliacaoSiric']}: " />
										
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroAvalSiric}"
										styleClass="forms_input pressEnter" style="margin-left: 18px; width: 210px;"
										id="lblPesqCampoAvalSiric" maxlength="11" tabindex="7" size="8">
									</h:inputText>
								</td>
								<td >
									<h:outputLabel id="lblPesqAvalCliente"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.avaliacaoCliente']}: " />
								</td>
								<td>
									<h:inputText
										value="#{relatorioVerificacaoMB.filtroAvalCliente}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoAvalCliente" maxlength="11" tabindex="8" size="8">
									</h:inputText>
								</td>
							</tr>
							<tr class="distanciaLinha">
								<td colspan="2">
									<h:outputLabel id="lblPesqServVerif"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.servico']}: " />
								</td>
								<td colspan="3">
									<h:selectOneMenu
										value="#{relatorioVerificacaoMB.codServicoVerificacao}"
										id="selectServico" tabindex="9" styleClass="forms_input"
										readonly="false" style="width: 385px; ">
										
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										
										<f:selectItems id="selectItems_ServicoVerif"
											value="#{relatorioVerificacaoMB.listServicoVerificacao}" />
									</h:selectOneMenu>
								</td>
								<td colspan="2"></td>
							</tr>
							<tr class="distanciaLinha">
								<td colspan="2">
									<h:outputLabel id="lblPesqUsuarioResponsavel"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.usuarioResp']}: " />
								</td>
								<td>
									<h:inputText value="#{relatorioVerificacaoMB.filtroUsuarioResp}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoUsuarioResp" maxlength="10" tabindex="10" size="8" 
											 onfocus="type_masktype(false)">
											 <rich:jQuery
												id="mascaraUsuario"
												selector="#lblPesqCampoUsuarioResp"
												query="mask('a999999')"
												timing="onload" />
											<rich:jQuery 
												selector="#lblFiltroMatriculaUsuario" 
												timing="onload" 
												query="focus()" /> 
									</h:inputText>
								</td>
								<td colspan="2">
									<h:outputLabel id="lblPesqSituacao"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.situacao']}: " />
								
									<h:selectOneMenu
										value="#{relatorioVerificacaoMB.codSituacao}"
										id="selectSituacao" tabindex="11" styleClass="forms_input"
										readonly="false" style="width: 179px; ">
										
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										
										<f:selectItems id="selectItems_Situacao"
											value="#{relatorioVerificacaoMB.listSituacao}" />
									</h:selectOneMenu>
								</td>
								
								<td colspan="2">
									<h:selectBooleanCheckbox styleClass="rotulos"
										id="inputSomenteSuspensasFiltro" tabindex="12"
										value="#{relatorioVerificacaoMB.somenteSuspensas}" />
									<h:outputLabel value="#{msgsVerificacaoPreventiva['LABEL.somenteSuspensas']}"
										for="inputSomenteSuspensasFiltro"
										class="rotulos"
										style="margin-left: 5px;" />									
								</td>
							</tr>
							<tr class="distanciaLinha">
								<td colspan="2">
									<h:outputLabel id="lblPesqPeriodoInclusao"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.periodoInclusao']}: " />
								</td>
								<td colspan="3">
									<rich:calendar
										id="lblPesqDataIniInclusao"
										tabindex="13"
										enableManualInput="true"
										oninputblur="validaData(this)"													
										inputClass="forms_input maskDate"
										datePattern="dd/MM/yyyy"
										inputSize="10"
										firstWeekDay="0"
										value="#{relatorioVerificacaoMB.filtroDataIniInclusao}">
									</rich:calendar>
									<h:outputLabel id="lblPesqPeriodoInclusaoA"
										styleClass="rotulosPro" style="margin-left: 25px; margin-right: 25px;"
										value="#{msgsVerificacaoPreventiva['LABEL.a']}: " />
									<rich:calendar
										id="lblPesqDataFimInclusao"
										tabindex="14"
										inputClass="forms_input maskDate"
										enableManualInput="true"
										oninputblur="validaData(this)"													
										datePattern="dd/MM/yyyy"
										inputSize="10"
										firstWeekDay="0"
										value="#{relatorioVerificacaoMB.filtroDataFimInclusao}">
									</rich:calendar>
								</td>

							</tr>
							<tr>
								<td>
									<h:outputLabel id="lblPesqCodConveniado"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.codigoConveniado']}: " />
								</td>
								<td>
									<h:inputText
											id="inputPesqCodConveniado"
											value="#{relatorioVerificacaoMB.codConveniado}"
											style="width: 100px"
											maxlength="9"
											styleClass="forms_input"
											tabindex="16"/>
								</td>
								<td>
									<h:outputLabel id="lblPesqNomeConveniado"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.nomeConveniado']}: " />
								</td>
								<td colspan="3">
									<h:inputText
										id="inputPesqNomeConveniado"
										value="#{relatorioVerificacaoMB.filtroNomeConveniado}"
										style="width: 417px"
										styleClass="forms_input"
										tabindex="17"/>
								</td>
							</tr>
							<tr>
								<td>
									<h:outputLabel id="lblPesqCodEmpreendimento"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.codigoEmpreendimento']}: " />
								</td>
								<td>
									<h:inputText
											id="inputPesqCodEmpreendimento"
											value="#{relatorioVerificacaoMB.filtroCodEmpreendimento}"
											style="width: 100px"
											styleClass="forms_input"
											tabindex="18"/>
								</td>
								<td>
									<h:outputLabel id="lblPesqNomeEmpreendimento"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.nomeEmpreendimento']}: " />
								</td>
								<td colspan="3">
									<h:inputText
										id="inputPesqNomeEmpreendimento"
										value="#{relatorioVerificacaoMB.filtroNomeEmpreendimento}"
										style="width: 417px"
										styleClass="forms_input"
										tabindex="19"/>
								</td>
							</tr>
							<tr class="distanciaLinha">
								<td colspan="2">
									<h:outputLabel id="lblPesqPeriodoVerificacao"
										styleClass="rotulosPro"
										value="#{msgsVerificacaoPreventiva['LABEL.periodoVerificacao']}: " />
								</td>
								<td colspan="4">
									<rich:calendar
										id="lblPesqDataIniVerificacao"
										tabindex="20"
										enableManualInput="true"
										oninputblur="validaData(this)"													
										inputClass="forms_input maskDate"
										datePattern="dd/MM/yyyy"
										inputSize="10"
										firstWeekDay="0"
										value="#{relatorioVerificacaoMB.filtroDataIniVerificacao}">
									</rich:calendar>
									<h:outputLabel id="lblPesqPeriodoVerificacaoA"
										styleClass="rotulosPro" style="margin-left: 25px; margin-right: 25px;"
										value="#{msgsVerificacaoPreventiva['LABEL.a']}: " />
									<rich:calendar
										id="lblPesqDataFimVerificacao"
										tabindex="21"
										enableManualInput="true"
										oninputblur="validaData(this)"													
										inputClass="forms_input maskDate"
										datePattern="dd/MM/yyyy"
										inputSize="10"
										firstWeekDay="0"
										value="#{relatorioVerificacaoMB.filtroDataFimVerificacao}">
									</rich:calendar>
								</td>
							</tr>
						</table>
						<a4j:commandButton
										id="btnLimparFiltro"
										styleClass="rich-button-cinza rich-button"
										style="float: right;"
										value="#{msgsVerificacaoPreventiva['ACTION.limpar']}"
										actionListener="#{relatorioVerificacaoMB.doLimpar}"
										reRender="pnlFiltroVerificacaoPreventivaFiltro"
										status="sts" />
						<rich:spacer width="30px;" style="float: right;"></rich:spacer>
									<h:commandButton
										tabindex="22"
										id="btnGeraRelatorio"
										styleClass="rich-button btn-consultar"
										style="float: right;"
										value="#{msgsVerificacaoPreventiva['ACTION.gerar']}"
										action="#{relatorioVerificacaoMB.doConsultarClick}"
										status="sts" />
										
										<rich:spacer width="30px;"></rich:spacer>
								
										<div style="clear: both;"/>
					</rich:panel>
			</rich:panel>
		</h:form>
	</ui:define>
</ui:composition>
</html>