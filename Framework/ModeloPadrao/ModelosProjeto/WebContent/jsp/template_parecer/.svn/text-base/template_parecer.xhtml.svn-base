<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:composition template="/jsp/include/template.xhtml">
		<ui:define name="breadcrumb">
			<h:panelGroup id="pnlBread">
				<h:outputLabel
					value="#{msgsTemplateParecer['BREAD']}" />
			</h:panelGroup>
		</ui:define>
		<ui:define name="conteudo">
		<script type="text/javascript">

			function dataTableSelectOneRadio(radio) {
				var id = radio.name.substring(radio.name.lastIndexOf(':'));
				var el = jQuery('input[type=radio]');
				for ( var i = 0; i &lt; el.length; i++) {
					if (el[i].name.substring(el[i].name.lastIndexOf(':')) == id) {
						el[i].checked = false;
					}
				}
				radio.checked = true;	
			}
			
			jQuery.fn.enterSubmit = function(){
				jQuery(this).live("keypress", function(e) {
			        /* ENTER PRESSED*/
			        if (e.keyCode == 13) {
				        this.value = this.value.replace(/_/g, "");
			        	jQuery(".btn-consultar").click();
			        	return false;
			        }
			        return true;
			    });
			};
	
			function checkForConfirmation(existe) {
				if(existe)
				{
					if(confirm('#{msgsCef['MA010']}'))
					{
						jsReplaceChecklist();
					} else {
						return false;
					}
				}
				else 
				{
					jsSaveChecklist();
				}
			};	


			function iniciaCampoTexto()
			{
				tinyMCE.init({theme : "advanced", 
					  mode : "textareas", 
					  //add paste plugin
					  plugins : 'paste',
					  language : "pt",
					  theme_advanced_buttons2 : "bullist,numlist,|,undo,redo,|,link,unlink,anchor,image,cleanup,help",
					  //Keeps Paste Text feature active until user deselects the Paste as Text button
					  paste_text_sticky : true,
					  //select pasteAsPlainText on startup
					  setup : function(ed) {
					      ed.onInit.add(function(ed) {
					          ed.pasteAsPlainText = true;
					      });
					  }
				});
			};

			tinyMCE.init({theme : "advanced", 
				  mode : "textareas", 
				  //add paste plugin
				  plugins : 'paste',
				  language : "pt",
				  theme_advanced_buttons2 : "bullist,numlist,|,undo,redo,|,link,unlink,anchor,image,cleanup,help",
				  //Keeps Paste Text feature active until user deselects the Paste as Text button
				  paste_text_sticky : true,
				  //select pasteAsPlainText on startup
				  setup : function(ed) {
				      ed.onInit.add(function(ed) {
				          ed.pasteAsPlainText = true;
				      });
				  }
			});
			
	
			function insertTagSubject()
			{
				var sV=document.getElementById('idFormTemplateParecer:selectTags').value;
				var listAllTags=document.getElementById('idFormTemplateParecer:idAllTags').value;
		
				var tags=new Array();
				tags=listAllTags.split('#');
		
				if (tags==null || sV==null)
				{
					alert('Não existe lista de tags ou uma tag não foi selecionada');
					return;
				}
		
		
				for (i=0;tags[i]!=null;i++)
				{
					var tagAux = new Array();
					tagAux = tags[i].split(';');
					
					if (tagAux[0] == sV)
					{
						var v=tags[i].split(';');
		
						if (v==null)
						{
							alert('A tag selecionada esta mal formada.');
							return;
						}
						
						var idCampo = "idFormTemplateParecer\\:txtCadAssunto";
						var selectionStart = jQuery('#'+idCampo)[0].selectionStart;
						var selectionEnd = jQuery('#'+idCampo)[0].selectionEnd;
						
						var value = jQuery('#'+idCampo)[0].value;
						jQuery('#'+idCampo)[0].value = value.slice(0, selectionStart) + v[1] + value.slice(selectionEnd);
						
						return;					
					}	
				} 
		
				return;
			};	


			
			function insertTagText()
			{
				var sV=document.getElementById('idFormTemplateParecer:selectTags').value;
				var listAllTags=document.getElementById('idFormTemplateParecer:idAllTags').value;
		
				var tags=new Array();
				tags=listAllTags.split('#');

		
				if (tags==null || sV==null)
				{
					alert('Não existe lista de tags ou uma tag não foi selecionada');
					return;
				}
		
		
				for (i=0;tags[i]!=null;i++)
				{

					var tagAux = new Array();
					tagAux = tags[i].split(';');
					
					if (tagAux[0] == sV)
					{
						var v=tags[i].split(';');
		
						if (v==null)
						{
							alert('A tag selecionada esta mal formada.');
							return;
						}
						
						tinyMCE.execCommand('mceInsertContent',false,v[1]);
						return;					
					}	
				} 
		
				return;
			};	
			
		</script>
		
		<style>
			.enviarList {
				float: left;
				height: 115px;
				width: 440px;
			}
			
			.enviarList div {
				overflow: auto;
				position: relative;
				width: inherit;
				height: 75px;
				border: 1px solid #38599C;
			}
			
			.enviarList td {
				line-height: 2em;
				vertical-align: top;
			}
			
			.enviarList input {
				margin-top: 5px;
				*margin-top: 0px;
			}
			
			.dr-stglpnl-h {
				background: none !important;
				border-style: none !important;
			}
			
			.rich-stglpanel-header {
				background: none !important;
			}
			
			.dr-stglpnl {
				background: none !important;
			}
			
			.rich-stglpanel {
				background: none !important;
			}
			
			.dr-mpnl-pnl {
				overflow: auto !important
			}
		</style>

		<div id="conteudo">
				<a4j:keepAlive beanName="templateParecerMB" />
				<a4j:form id="idFormTemplateParecer">
					<h:inputHidden id="idAllTags" value="#{templateParecerMB.listAllTagstoString}" />
				<rich:panel id="pnlConteudo">
					<rich:spacer height="20" />
					<rich:panel styleClass="panel-externo" id="pnlConsultarSimples"
						rendered="#{templateParecerMB.showConsultarSimples}">
						<div class="span-23 clear last" id="pnlGridFiltroTemplateParecer"
							style="padding: 5px; margin-left: 16px; line-height: 2;">
							<div class="span-3 clear">
								<h:graphicImage value="/images/icon_search.gif"
									style="vertical-align: top;" />
								<h:outputText style="margin-left: 4px;"
									id="lblTemplateParecerFiltro"
									value="#{msgsTemplateParecer['LABEL.pesquisa']}"
									styleClass="rotulos" />
							</div>
							<div class="span-14">
								<h:inputText id="inputTemplateParecerNomeFiltro"
									value="#{templateParecerMB.pesquisaString}"
									styleClass="forms_input"
									style=" width: 510px; horizontal-align: left; font-size: 13px;">
									<rich:jQuery selector="#inputParecerMBNomeFiltro"
										query="enterSubmit()" timing="onload" />
								</h:inputText>
							</div>
							<div class="span-3">
								<a4j:commandButton id="btnfiltrarTemplateFiltro"
									styleClass="rich-button btn-consultar"
									value="#{msgsTemplateParecer['ACTION.filtrar']}"
									actionListener="#{templateParecerMB.doConsultarClick}"
									reRender="conteudo, CEFMessagePanel, idTableTamplateParecer, pnlBread, pnlConsultarAvancado"
									status="sts" />
							</div>
							<div class="span-3 last">
								<a4j:commandButton id="btnCadastrarTemplateParecerMB"
									styleClass="rich-button" immediate="true"
									value="#{msgsTemplateParecer['ACTION.cadastrar']}"
									actionListener="#{templateParecerMB.doCadastrar}"
									reRender="conteudo, pnlBread, idFormTemplateParecer, pnlCadastro"
									oncomplete="iniciaCampoTexto();" status="sts" />
							</div>
							<h:panelGrid columns="2">
								<h:column>
									<div class="span-14 clear prepend-3">
										<div style="margin-top: 10px;">
											<h:selectBooleanCheckbox styleClass="rotulos"
												id="inputTemplateParecerMostraInativosFiltro"
												value="#{templateParecerMB.pesquisaMostraInativos}" />
											<h:outputLabel
												value="#{msgsTemplateParecer['LABEL.showInativos']}"
												for="inputTemplateParecerMostraInativosFiltro"
												class="rotulos" style="margin-left: 5px;" />
										</div>
									</div>
								</h:column>
								<h:column>
									<div class="span-6 last">
										<div style="margin-top: 10px">
											<h:graphicImage value="/images/icon_plus.gif" />
											<a4j:commandLink
												actionListener="#{templateParecerMB.doConsultarAvancado}"
												value="#{msgsChecklist['LABEL.filtroAvancado']}"
												styleClass="rotulos" reRender="pnlConteudo"
												style="margin-left: 3px;" />
										</div>
									</div>
								</h:column>
							</h:panelGrid>
						</div>
						<br clear="all" />
						<br clear="all" />
					</rich:panel>
					<rich:panel id="pnlConsultarAvancado" styleClass="panel-externo"
						rendered="#{templateParecerMB.showConsultarAvancado}">
						<table cellpadding="0" cellspacing="0" id="tabelaConsulta"
							border="1" class="estiloTabelaPadrao">
							<tr>
								<td width="10%">
									<h:outputLabel id="lblPesqProduto"
										styleClass="rotulosPro"
										value="#{msgsTemplateParecer['LABEL.produto']} " />
								</td>
								<td width="13%">
									<h:inputText
										value="#{templateParecerMB.filtroProduto}"
										styleClass="forms_input pressEnter" style="width: 100px;"
										id="lblPesqCampoNome" maxlength="30" tabindex="1" size="8">
										<rich:jQuery selector="#lblPesqCampoNome"
											query="enterSubmit()" timing="onload" />
										<a4j:support event="onblur" reRender="selectProduto" />
									</h:inputText>
								</td>
								<td colspan="3" style="width: 385px;">
									<h:selectOneMenu
										value="#{templateParecerMB.codProduto}" id="selectProduto"
										tabindex="4" styleClass="forms_input pressEnter"
										style=" width : 370px;">
										<f:selectItem itemLabel="Selecione..." itemValue="" />
										<f:selectItems id="selectItemsProduto"
											value="#{templateParecerMB.listProdutos}" />
										<rich:jQuery selector="#selectProduto" query="enterSubmit()"
											timing="onload" />
										<a4j:support event="onchange" reRender="selectServico"
											ajaxSingle="true" />
									</h:selectOneMenu>
								</td>
								<td colspan="2">
									<h:selectBooleanCheckbox
										styleClass="rotulos"
										id="inputTemplateParecerMostraInativosFiltroAvancado"
										value="#{templateParecerMB.pesquisaMostraInativos}" /> <h:outputLabel
										value="#{msgsTemplateParecer['LABEL.showInativos']}"
										for="inputTemplateParecerMostraInativosFiltroAvancado"
										class="rotulos" style="margin-left: 5px;" />
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<h:outputLabel id="lblPesqServicoVerif"
										styleClass="rotulosPro"
										value="#{msgsTemplateParecer['LABEL.servicoverificacao']} " />
								</td>
								<td colspan="3">
									<h:selectOneMenu
										value="#{templateParecerMB.codServicoVerificacao}"
										id="selectServico" tabindex="6" styleClass="forms_input"
										readonly="false" style="width: 370px; ">

										<f:selectItem itemLabel="Selecione..." itemValue="" />

										<f:selectItems id="selectItems_ServicoVerif"
											value="#{templateParecerMB.listServicoVerificacao}" />
									</h:selectOneMenu>
								</td>
								<td colspan="2">
									<a4j:commandButton
										id="btnfiltrarTemplateParecerFiltroAvancado"
										styleClass="rich-button btn-consultar"
										value="#{msgsTemplateParecer['ACTION.filtrar']}"
										actionListener="#{templateParecerMB.doConsultarClick}"
										reRender="conteudo, CEFMessagePanel, idTableTamplateParecer, pnlBread"
										status="sts" /> 
									
									<rich:spacer width="15"></rich:spacer> 
									<a4j:commandButton
										id="btnCadastrarTemplateParecerAvancado"
										styleClass="rich-button" immediate="true"
										value="#{msgsTemplateParecer['ACTION.cadastrar']}"
										actionListener="#{templateParecerMB.doCadastrar}"
										oncomplete="iniciaCampoTexto();"
										reRender="conteudo, pnlBread, idFormTemplateParecer, textAreaTextoParecer, pnlConsultarSimples, idTableTamplateParecer"
										status="sts" />
										
									<rich:spacer width="15"></rich:spacer> 
									<a4j:commandButton
										id="btnLimparFiltro"
										styleClass="rich-button-cinza rich-button"
										value="#{msgsTemplateParecer['ACTION.limpar']}"
										actionListener="#{templateParecerMB.doLimpar}"
										reRender="pnlConsultarAvancado, pnlConsultarSimples"
										status="sts" />
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<h:outputLabel id="lblPesqTipoParecer"
										styleClass="rotulosPro"
										value="#{msgsTemplateParecer['LABEL.tipoParecer']} " />
								</td>
								<td colspan="3">
									<h:selectOneMenu
										value="#{templateParecerMB.tipoParecer}"
										id="selectTipoParecer" tabindex="6" styleClass="forms_input"
										readonly="false" style="width: 370px; ">

										<f:selectItem itemLabel="Selecione..." itemValue="" />

										<f:selectItems id="selectItems_TipoParecer"
											value="#{templateParecerMB.listTipoParecer}" />
									</h:selectOneMenu>
								</td>
								<td colspan="2">
									<h:graphicImage
										value="/images/icon_minus.gif" /> 
									<a4j:commandLink
										actionListener="#{templateParecerMB.doConsultarSimples}"
										value="#{msgsTemplateParecer['LABEL.filtroSimples']}"
										styleClass="rotulos" reRender="pnlConteudo"
										style="margin-left: 3px;" />
								</td>
							</tr>
						</table>
					</rich:panel>

					<rich:spacer height="10" />
					<rich:panel id="pnlTitleGrid"
						style="vertical-align: bottom; padding:6px 0px; text-align:left;"
						rendered="#{templateParecerMB.showDataTable}">
						<h:graphicImage value="/images/icon_estagiarios_.gif"
							style="vertical-align: bottom;" />
						<h:outputText value="#{msgsProduto['TITLE.panelLista']}"
							styleClass="tituloPagina" />
					</rich:panel>
					<rich:dataTable id="idTableTamplateParecer"
						value="#{templateParecerMB.listTemplateParecer}"
						rendered="#{templateParecerMB.showDataTable}" var="row" rows="10"
						width="100%" cellspacing="0" cellpadding="0" border="1"
						rowClasses="tabela-row-1, tabela-row-2"
						onRowMouseOver="this.style.backgroundColor = '#A2B6E5'"
						onRowMouseOut="this.style.backgroundColor = ''">

						<rich:column id="idCoProduto" style="text-align:left;" width="10%"
							sortOrder="ASCENDING"
							sortBy="#{row.servicoVerificacaoProduto.produto.codigoFormatado}">
							<f:facet name="header">
								<h:outputText id="lblCodigoProduto" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.produto']}" />
							</f:facet>

							<h:commandLink action="#{templateParecerMB.doVisualizaClick}"
								id="lblCoProduto"
								value="#{row.servicoVerificacaoProduto.produto.codigoFormatado}">

								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
							</h:commandLink>

						</rich:column>

						<rich:column id="idServicoVerificacao" style="text-align:left;"
							width="30%"
							sortBy="#{row.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}">
							<f:facet name="header">
								<h:outputText id="lblServicoVerificacao" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.servico']}" />
							</f:facet>

							<h:commandLink action="#{templateParecerMB.doVisualizaClick}"
								id="lblColServicoVerificaco"
								value="#{row.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}">

								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
							</h:commandLink>

						</rich:column>

						<rich:column id="idTipoParecer" style="text-align:left;"
							width="10%" sortBy="#{row.strTipoParecer}">
							<f:facet name="header">
								<h:outputText id="lblIdTipoParecer" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.tipo']}" />
							</f:facet>

							<h:commandLink action="#{templateParecerMB.doVisualizaClick}"
								id="lnkIdTipoParecer" value="#{row.strTipoParecer}">

								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
							</h:commandLink>


						</rich:column>

						<rich:column id="idAssunto" style="text-align:left;" width="30%"
							sortBy="#{row.noAssuntoParecer}">
							<f:facet name="header">
								<h:outputText id="lblAssunto" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.assunto']}" />
							</f:facet>

							<h:commandLink action="#{templateParecerMB.doVisualizaClick}"
								id="lnkAssunto" value="#{row.noAssuntoParecer}">

								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
							</h:commandLink>


						</rich:column>

						<rich:column id="colAcaoTemplate" width="5%"
							headerClass="th-text-center" styleClass="iconesCentro">
							<f:facet name="header">
								<h:outputText id="lblAcaoTemplate" styleClass="rotulosTabela"
									value="#{msgsTemplateParecer['ACTION.acao']}" />
							</f:facet>
							<h:commandLink id="lnkUpdateTemplate"
								action="#{templateParecerMB.doAtualizar}" tabindex="14"
								reRender="pnlConteudo, CEFMessagePanel, idTableTamplateParecer"
								style="border-style:none;border-width:0;">
								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
								<h:graphicImage id="imgAlterarOnTemplate"
									styleClass="action-icon" alt="Alterar" title="Alterar"
									value="/images/icon_editar.gif" />
							</h:commandLink>
							<a4j:commandLink
								rendered="#{templateParecerMB.showButtonDesativar}"
								id="lnkDeleteTemplateParecer"
								onclick="if(!confirm('#{msgsCef['MA004']}')) {return false;}"
								action="#{templateParecerMB.doInativaClick}"
								style="border-style:none;border-width:0;"
								reRender="pnlConteudo, CEFMessagePanel, idTableTamplateParecer"
								tabindex="15" status="sts">
								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
								<h:graphicImage id="imgInativarOnUsuario"
									styleClass="action-icon" alt="Inativar" title="Inativar"
									value="/images/icon_-delete.gif" />
							</a4j:commandLink>
							<a4j:commandLink rendered="#{templateParecerMB.showButtonAtivar}"
								id="lnkAtivaTemplateParecer" tabindex="16"
								onclick="if(!confirm('#{msgsCef['MA006']}')) {return false;}"
								action="#{templateParecerMB.doAtivaClick}"
								style="border-style:none;border-width:0;"
								reRender="pnlConteudo, CEFMessagePanel, idTableTamplateParecer"
								status="sts">
								<f:setPropertyActionListener
									target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
									value="#{row.nuTemplateParecer}" />
								<h:graphicImage id="imgAtivarOnUsuario" styleClass="action-icon"
									alt="Ativar" title="Ativar" value="/images/icon_ativo.gif" />
							</a4j:commandLink>
						</rich:column>
						<f:facet name="footer">
								<rich:datascroller
									fastControls="false"
									inactiveStyleClass="classe-datascroller classe-datascroller-unselected"
									selectedStyleClass="classe-datascroller classe-datascroller-selected"
									id="dataFooterUsuario"
									renderIfSinglePage="false">
									<f:facet name="first">
										<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
									</f:facet>
									<f:facet name="first_disabled">
										<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
									</f:facet>
									<f:facet name="last">
										<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
									</f:facet>
									<f:facet name="last_disabled">
										<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
									</f:facet>
									<f:facet name="previous">
										<h:graphicImage value="/images/tabela/seta_anterior.gif" />
									</f:facet>
									<f:facet name="previous_disabled">
										<h:graphicImage value="/images/tabela/seta_anterior.gif" />
									</f:facet>
									<f:facet name="next">
										<h:graphicImage value="/images/tabela/seta_proximo.gif" />
									</f:facet>
									<f:facet name="next_disabled">
										<h:graphicImage value="/images/tabela/seta_proximo.gif" />
									</f:facet>
								</rich:datascroller>
							</f:facet>
					</rich:dataTable>
				</rich:panel>
				<!--  Fim do Painel Consulta -->
		   			
		   			<!--  Início Painel Cadastro -->
		   			<rich:panel 
						id="pnlTituloCadastro"
						style="vertical-align: bottom; padding:6px 0px; text-align:left;"
						rendered="#{templateParecerMB.showNovo}">
						<h:graphicImage
							value="/images/icon_dados.jpg"
							style="vertical-align: bottom;" />
						<h:outputText
							value="#{msgsTemplateParecer['TITLE.panelIncluir']}"
							styleClass="tituloPagina" rendered="#{!templateParecerMB.modoAlteracao}"/>
						<a4j:commandButton
							rendered="#{!templateParecerMB.modoAlteracao}"
							id="botaoImportarDados"
							tabindex="6"
							action="#{templateParecerMB.doMostraImportarDados}"
							value="#{msgsTemplateParecer['LABEL.importarDados']}"
							styleClass="rich-button"
							reRender="conteudo, CEFMessagePanel, pnlBread, idTableTamplateParecer, formModalImportarDados, modalImportarDados"
							oncomplete="Richfaces.showModalPanel('modalImportarDados')"
							style="margin-right:6px; *margin-right:10px; margin-left: 15px; width: 215px;"/>
						<h:outputText
							value="#{msgsTemplateParecer['TITLE.panelAlterar']}"
							styleClass="tituloPagina" rendered="#{templateParecerMB.modoAlteracao}"/>
					</rich:panel>
					<rich:panel
						id="pnlCadastro"
						styleClass="panel-externo"
						rendered="#{templateParecerMB.showNovo}">
						
						<!--  Table de Cadastro -->
						<table
	 							cellpadding="0" 
	 							cellspacing="0"							 
								id="tabelaCadastro"
								class="estiloTabelaPadrao">
								<tr>
									<td width="10%">
										<h:outputLabel
											id="lblCadProduto"
											styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.produto']}: " />
									</td>
									<td width="13%">
										<h:inputText
											value="#{templateParecerMB.filtroCadastro}"
											styleClass="forms_input pressEnter"
											style="width: 100px;"
											id="lblCadCampoNome"
											maxlength="30"
											tabindex="1"
											disabled="#{templateParecerMB.modoAlteracao}"
											size="8" >										
											<rich:jQuery
												selector="#lblCadCampoNome"
												query="enterSubmit()"
												timing="onload" />
											<a4j:support event="onblur" reRender="selectCadProduto" />
										</h:inputText>
									</td>
									<td width="395px;">	
										<h:selectOneMenu value="#{templateParecerMB.codProduto}"
											id="selectCadProduto"
											tabindex="2"
											disabled="#{templateParecerMB.modoAlteracao}"
											styleClass="forms_input pressEnter"
											style=" width : 385px;">
											<f:selectItem itemLabel="Selecione..."
												itemValue="" />
											<f:selectItems
												id="selectCadItemsProduto"
												value="#{templateParecerMB.listProdutos}" />				
											<rich:jQuery
												selector="selectCadProduto"
												query="enterSubmit()"
												timing="onload" />
											<a4j:support event="onchange" reRender="selectCadServico" ajaxSingle="true" />
										</h:selectOneMenu>
									</td>
									<td width="12%">
										<h:outputLabel id="lblCadTipoParecer"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.tipoParecer']}: " />
									</td>
									<td colspan="2">
										<h:selectOneMenu
											disabled="#{templateParecerMB.modoAlteracao}"
											value="#{templateParecerMB.tipoParecer}" id="selectCadTipoParecer"
											tabindex="3" styleClass="forms_input" readonly="false"
											style="width: 150px; ">
											<f:selectItem itemLabel="Selecione..." itemValue="" />
	
											<f:selectItems id="selectCadItems_TipoParecer"
											value="#{templateParecerMB.listTipoParecer}" />
										</h:selectOneMenu>
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<h:outputLabel id="lblCadServicoVerif"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.servicoverificacao']}: " />
									</td>
									<td colspan="4">
										<h:selectOneMenu
											value="#{templateParecerMB.codServicoVerificacao}"
											disabled="#{templateParecerMB.modoAlteracao}"
											id="selectCadServico" tabindex="6" styleClass="forms_input"
											readonly="false" style="width: 385px; ">
											
											<f:selectItem itemLabel="Selecione..." itemValue="" />
											
											<f:selectItems id="selectCadItems_ServicoVerif"
												value="#{templateParecerMB.listServicoVerificacao}" />
										</h:selectOneMenu>
									</td>
								</tr>
								<tr>
									<td colspan="6">
										<a4j:jsFunction id="jsTest" reRender="lblSelectedEnviar,lblSelectedEnviarComCopia" name="jsTest"></a4j:jsFunction>
										<div class="enviarList">
											<h:outputLabel id="lblCadSerdadsvicoVerif"	styleClass="rotulosPro"
												value="#{msgsTemplateParecer['LABEL.enviarA']}: " style="float: left" /> <br/>
											<div id="panelEnviar">
												<table>
													<a4j:repeat value="#{templateParecerMB.listEnviar}" var="rowEnviar">
														<tr>
															<td>
																<h:selectBooleanCheckbox value="#{rowEnviar.selected}" id="checkEnviar">
																	<a4j:support actionListener="#{templateParecerMB.doFazNada}" event="onclick" oncomplete="jsTest()"></a4j:support>
																</h:selectBooleanCheckbox>
															</td>
															<td>
																<h:outputLabel value="#{rowEnviar.name}" for="checkEnviar" />
															</td>
														</tr>
													</a4j:repeat>
												</table>
											</div>
											<h:outputLabel id="lblSelectedEnviar" style="color: red; font-weight: bold;" value="#{msgsTemplateParecer['LABEL.selecionados']}: #{templateParecerMB.countEnviar}"></h:outputLabel>
										</div>
										<rich:spacer height="1" width="25px" style="float: left;"  />
										<div class="enviarList">
											<h:outputLabel id="lbdasdalCadServicoVerif"	styleClass="rotulosPro"
												value="#{msgsTemplateParecer['LABEL.enviarCopiaA']}: " style="float: left" /> <br/>
											<div id="panelEnviarComCopia">
												<table>
													<a4j:repeat value="#{templateParecerMB.listEnviarComCopia}" var="rowEnviarComCopia">
														<tr>
															<td>
																<h:selectBooleanCheckbox value="#{rowEnviarComCopia.selected}" id="checkEnviarCopia">
																	<a4j:support actionListener="#{templateParecerMB.doFazNada}" event="onclick" oncomplete="jsTest()"></a4j:support>
																</h:selectBooleanCheckbox>
															</td>
															<td>
																<h:outputLabel value="#{rowEnviarComCopia.name}" for="checkEnviarCopia" />
															</td>
														</tr>
													</a4j:repeat>
												</table>
											</div>
											<h:outputLabel id="lblSelectedEnviarComCopia" style="color: red; font-weight: bold;" value="#{msgsTemplateParecer['LABEL.selecionados']}: #{templateParecerMB.countEnviarComCopia}"></h:outputLabel>
										</div>
									</td>
								</tr>
								<tr>
									<td>
										<h:outputLabel id="lblCadAssunto"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.assunto']}: " />
									</td>
									<td colspan="2">
										<h:inputText
											value="#{templateParecerMB.templateParecer.noAssuntoParecer}"
											styleClass="forms_input pressEnter"
											style="width: 508px;"
											id="txtCadAssunto"
											maxlength="70"
											size="40" />
									</td>
									<td>
										<h:outputLabel id="lblCadReferncia"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.referencia']}: " />
									</td>
									<td colspan="2">
										<h:inputText
											value="#{templateParecerMB.templateParecer.noReferenciaParecer}"
											styleClass="forms_input pressEnter"
											style="width: 100px;"
											maxlength="70"
											id="txtCadServicoVerif"
											size="8" />
									</td>
								</tr>
								<tr>
									<td valign="top" style="vertical-align: top !important;">
										<h:outputLabel id="lblCadTexto"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.texto']}: " />
									</td>
									<td colspan="5">						
										
										<textarea id="textAreaTextoParecer" jsfc="h:inputTextarea" value="#{templateParecerMB.templateParecer.textoParecer}" cols="99" rows="20" style="width:815px; *width:826px;" ></textarea>
									</td>
								</tr>
								<tr style="height: 10px">
									<td></td>
								</tr>
								
							</table>
							<table>
								<tr>
									<td style="width: 780px;">
										<h:outputLabel id="lblCadCamposSelecionaveis"	styleClass="rotulosPro"
											value="#{msgsTemplateParecer['LABEL.camposSelecionaveis']}: " />

										<select id="selectTags"	jsfc="h:selectOneMenu" class="forms_select100" style="width: 600px;">
											<f:selectItems id="selectItemTags"
												value="#{templateParecerMB.listTags}"
												style="text-transform: uppercase; width: 345px;">
												<span id=""></span>
											</f:selectItems>
										</select>
									</td>
									<td>
										<input id="inclui" onclick="insertTagSubject();" name="button" style="margin-bottom: 3px; width: 140px;"
											type="button" class="rich-button" value="#{msgsTemplateParecer['ACTION.incluirAssunto']}" />
										<input id="inclui2" onclick="insertTagText();" name="button" style="width: 140px;"
											type="button" class="rich-button" value="#{msgsTemplateParecer['ACTION.incluirTexto']}" />
									</td>
		
								</tr>
							</table>
							<a4j:jsFunction name="jsTrySave"	
								actionListener="#{checklistMB.doTrySave}"
								data="#{checklistMB.existeChecklist}"
								oncomplete="checkForConfirmation(data)" />
							
							<a4j:jsFunction name="jsReplaceChecklist"
								action="#{checklistMB.doReplaceChecklist}" reRender="CEFMessagePanel" />
								
							<a4j:jsFunction name="jsSaveChecklist"
								action="#{checklistMB.doSave}" reRender="CEFMessagePanel" />						
					</rich:panel>
					<br/>
					<h:panelGroup id="pnlActionCad" layout="block"
						rendered="#{templateParecerMB.showNovo}"
						style="text-align:right">
						<h:commandButton
							id="botaoVisualizar"
							tabindex="6"
							action="#{templateParecerMB.doVisualizaBotao}"
							value="#{msgsTemplateParecer['ACTION.visualizar']}"
							styleClass="rich-button"
							style="margin-right:6px; *margin-right:10px; margin-left: 15px; "
							reRender="conteudo, CEFMessagePanel, pnlBread, idTableTamplateParecer"/>
							
						<h:commandButton
							id="botaoCadastrarTemplateParecer"
							rendered="#{!templateParecerMB.modoAlteracao}"
							tabindex="6"
							onclick="if(!confirm('#{msgsCef['MA002']}')) {return false;}"
							actionListener="#{templateParecerMB.doGravar}"
							value="#{msgsTemplateParecer['ACTION.salvar']}"
							styleClass="rich-button"
							style="margin-right:6px; *margin-right:10px; margin-left: 15px; "
							reRender="conteudo, CEFMessagePanel, pnlBread, idTableTamplateParecer"/>
							
						<h:commandButton
							rendered="#{templateParecerMB.modoAlteracao}"
							id="botaoAlterarTemplateParecer"
							tabindex="6"
							onclick="if(!confirm('#{msgsCef['MA003']}')) {return false;}"
							actionListener="#{templateParecerMB.doGravar}"
							value="#{msgsTemplateParecer['ACTION.salvar']}"
							styleClass="rich-button"
							style="margin-right:6px; *margin-right:10px; margin-left: 15px; "
							reRender="conteudo, CEFMessagePanel, pnlBread, idTableTamplateParecer"/>	
														
						<h:commandButton
							id="btnCancelarChecklistCad"
							styleClass="rich-button-cinza rich-button"
							value="#{msgsTemplateParecer['ACTION.cancelar']}"
							action="#{templateParecerMB.doCancelar}"
							reRender="conteudo, CEFMessagePanel, pnlBread, idTableTamplateParecer"
							style="margin-left: 15px;"
							immediate="true"
							status="sts" />
					</h:panelGroup>
			</a4j:form>

			<rich:modalPanel id="modalImportarDados" width="950"
				onshow="jQuery('.cef-message-panel').css('z-index', 101);"
				resizeable="true" height="510"
				showWhenRendered="#{templateParecerMB.modalImportaDados}">
				<f:facet name="header">
					<h:outputText value="#{msgsTemplateParecer['TITLE.importarDados']}" />
				</f:facet>
				<h:form id="formImportaDados">
					<rich:dataTable id="idTableTamplateParecerImportacao"
						value="#{templateParecerMB.listTemplateParecerImportacao}"
						var="row" rows="10" width="100%" cellspacing="0" cellpadding="0"
						border="1" rowClasses="tabela-row-1, tabela-row-2"
						onRowMouseOver="this.style.backgroundColor = '#A2B6E5'"
						onRowMouseOut="this.style.backgroundColor = ''">

						<rich:column id="colunaEscolhaImportacao"
							style="text-align:center;" width="10%">
							<f:facet name="header">
								<h:outputText id="lblEscolhaImportacao" styleClass="rotulosPro"
									value="" />
							</f:facet>

							<h:selectOneRadio id="cbSelecionaImportacao"
								onclick="dataTableSelectOneRadio(this);">
								<f:selectItem itemValue="null" />
								<a4j:support event="onchange">
									<f:setPropertyActionListener
										target="#{templateParecerMB.templateParecer.nuTemplateParecer}"
										value="#{row.nuTemplateParecer}" />
								</a4j:support>
								<a4j:support event="onclick"
									actionListener="#{templateParecerMB.doFazNada}" />
							</h:selectOneRadio>

						</rich:column>

						<rich:column id="idImportaCoProduto" style="text-align:left;" width="10%"
							sortOrder="ASCENDING"
							sortBy="#{row.servicoVerificacaoProduto.produto.codigoFormatado}">
							<f:facet name="header">
								<h:outputText id="lblImportaodigoProduto" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.produto']}" />
							</f:facet>

							
							<h:outputText id="lblTxtImportaCoProduto"
								styleClass="rotulosPro" value="#{row.servicoVerificacaoProduto.produto.codigoFormatado}" />

						</rich:column>

						<rich:column id="idImportaServicoVerificacao" style="text-align:left;"
							width="30%"
							sortBy="#{row.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}">
							<f:facet name="header">
								<h:outputText id="lblImportaServicoVerificacao" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.servico']}" />
							</f:facet>

							<h:outputText id="lblTxtImportaServicoVerificaco"
								styleClass="rotulosPro" value="#{row.servicoVerificacaoProduto.servicoVerificacao.noServicoVerificacao}" />
						</rich:column>
						
						

						<rich:column id="idImportaTipoParecer" style="text-align:left;"
							width="10%" sortBy="#{row.strTipoParecer}">
							<f:facet name="header">
								<h:outputText id="lblIdImportaTipoParecer" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.tipo']}" />
							</f:facet>

							<h:outputText id="lblTxtImportaTipoParecer"
								styleClass="rotulosPro" value="#{row.strTipoParecer}" />
						</rich:column>


						<rich:column id="colunaAssuntoImportacao" style="text-align:left;"
							width="90%" sortBy="#{row.noAssuntoParecer}">
							<f:facet name="header">
								<h:outputText id="lblAssuntoImportacao" styleClass="rotulosPro"
									value="#{msgsTemplateParecer['COLUMN.assunto']}" />
							</f:facet>

							<h:outputText id="lblTxtAssuntoImportacao"
								styleClass="rotulosPro" value="#{row.noAssuntoParecer}" />
						</rich:column>

						<f:facet name="footer">
							<rich:datascroller fastControls="false"
								inactiveStyleClass="classe-datascroller classe-datascroller-unselected"
								selectedStyleClass="classe-datascroller classe-datascroller-selected"
								id="dataFooterUsuario" renderIfSinglePage="false">
								<f:facet name="first">
									<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
								</f:facet>
								<f:facet name="first_disabled">
									<h:graphicImage value="/images/tabela/seta_primeiro.gif" />
								</f:facet>
								<f:facet name="last">
									<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
								</f:facet>
								<f:facet name="last_disabled">
									<h:graphicImage value="/images/tabela/seta_ultimo.gif" />
								</f:facet>
								<f:facet name="previous">
									<h:graphicImage value="/images/tabela/seta_anterior.gif" />
								</f:facet>
								<f:facet name="previous_disabled">
									<h:graphicImage value="/images/tabela/seta_anterior.gif" />
								</f:facet>
								<f:facet name="next">
									<h:graphicImage value="/images/tabela/seta_proximo.gif" />
								</f:facet>
								<f:facet name="next_disabled">
									<h:graphicImage value="/images/tabela/seta_proximo.gif" />
								</f:facet>
							</rich:datascroller>
						</f:facet>
					</rich:dataTable>

					<div style="width: 100%; text-align: right;">
						<h:commandButton id="btnCancelarParecerImportar"
							styleClass="rich-button-cinza rich-button"
							value="#{msgsTemplateParecer['ACTION.cancelar']}"
							actionListener="#{templateParecerMB.doCancelarImportaDados}"
							onclick="Richfaces.hideModalPanel('modalImportarDados')"
							style="margin-left: 15px;" immediate="true" status="sts" />

						<h:commandButton id="botaoCarregarImportacaoDados" tabindex="6"
							action="#{templateParecerMB.doCarregar}"
							value="#{msgsTemplateParecer['ACTION.carregar']}"
							styleClass="rich-button"
							style="margin-right:6px; *margin-right:10px; margin-left: 15px; "
							reRender="CEFMessagePanel, modalImportarDados, pnlCadastro" />
					</div>
				</h:form>
			</rich:modalPanel>

		</div>
		</ui:define>
	</ui:composition>
</html>
